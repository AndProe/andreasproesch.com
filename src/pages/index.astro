---
import BaseLayout from '../layouts/BaseLayout.astro';
import BlogCard from '../components/BlogCard.astro';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog', ({ data }) => !data.draft);
const recentPosts = allPosts
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, 3);
---

<BaseLayout title="Home">
  <section class="hero">
    <div class="hero-content">
      <div class="hero-text">
        <p class="hero-intro">Hi, I'm</p>
        <h1 class="hero-title">Andreas Proesch</h1>
        <p class="hero-description">
          For 15+ years I have worked at the intersection of technology and adoption.
          I have worked in AI advisory, Strategic AI development, strategy, consulting,
          and commodity trading.
        </p>
        <div class="hero-cta">
          <a href="/about" class="btn">Learn More</a>
          <a href="/contact" class="btn btn-outline">Get in Touch</a>
        </div>
      </div>
      <div class="hero-image">
        <img src="/images/andreas-proesch.jpg" alt="Andreas Proesch" class="profile-photo" />
      </div>
    </div>
  </section>

  <section class="section featured">
    <h2 class="section-title">What I Do</h2>
    <div class="grid grid-3">
      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
        </div>
        <h3>Technology Operator</h3>
        <p>Leading frontier industrial DataOps software initiatives, building autonomous industries that are more sustainable, efficient, and productive.</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="12 2 2 7 12 12 22 7 12 2"/>
            <polyline points="2 17 12 22 22 17"/>
            <polyline points="2 12 12 17 22 12"/>
          </svg>
        </div>
        <h3>Advisor</h3>
        <p>Helping executive management teams, private equity investors, and venture capitalists turn business strategy into business impact.</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="1" x2="12" y2="23"/>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
          </svg>
        </div>
        <h3>Angel Investor</h3>
        <p>Investing in early-stage companies at the interface between frontier technologies and business model development.</p>
      </div>
    </div>
  </section>

  <section class="section expertise">
    <h2 class="section-title">Areas of Expertise</h2>
    <div class="expertise-grid">
      <div class="expertise-item">
        <span class="expertise-label">AI Transformation</span>
      </div>
      <div class="expertise-item">
        <span class="expertise-label">Co-Innovation</span>
      </div>
      <div class="expertise-item">
        <span class="expertise-label">Agentic AI Adoption</span>
      </div>
      <div class="expertise-item">
        <span class="expertise-label">Robotics & Automation</span>
      </div>
      <div class="expertise-item">
        <span class="expertise-label">Industrial AI</span>
      </div>
      <div class="expertise-item">
        <span class="expertise-label">Energy & Manufacturing</span>
      </div>
      <div class="expertise-item">
        <span class="expertise-label">Tech Trends</span>
      </div>
      <div class="expertise-item">
        <span class="expertise-label">Commodity Markets</span>
      </div>
    </div>
  </section>

  {recentPosts.length > 0 && (
    <section class="section recent-posts">
      <div class="section-header">
        <h2 class="section-title">Recent Posts</h2>
        <a href="/blog" class="view-all">View all &rarr;</a>
      </div>
      <div class="grid grid-3">
        {recentPosts.map(post => (
          <BlogCard
            title={post.data.title}
            date={post.data.date}
            description={post.data.description}
            slug={post.id}
            image={post.data.image}
          />
        ))}
      </div>
    </section>
  )}

  <section class="section cta-section">
    <div class="cta-content">
      <h2>Let's Work Together</h2>
      <p>Interested in collaborating or having me speak at your event?</p>
      <a href="/contact" class="btn">Get in Touch</a>
    </div>
  </section>
</BaseLayout>

<style>
  .hero {
    padding: var(--spacing-2xl) 0;
  }

  .hero-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-2xl);
    align-items: center;
  }

  .hero-intro {
    font-size: 1.1rem;
    color: var(--color-accent);
    margin-bottom: var(--spacing-xs);
    font-weight: 500;
  }

  .hero-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: var(--spacing-sm);
    background: linear-gradient(135deg, var(--color-text) 0%, var(--color-text-muted) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-subtitle {
    font-size: 1.35rem;
    color: var(--color-text);
    font-weight: 500;
    margin-bottom: var(--spacing-md);
    line-height: 1.4;
  }

  .hero-description {
    font-size: 1.1rem;
    color: var(--color-text-muted);
    line-height: 1.7;
    margin-bottom: var(--spacing-lg);
    max-width: 520px;
  }

  .hero-cta {
    display: flex;
    gap: var(--spacing-sm);
  }

  .hero-image {
    display: flex;
    justify-content: center;
  }

  .profile-photo {
    width: 350px;
    height: 400px;
    object-fit: cover;
    border-radius: 16px;
  }

  .featured {
    border-top: 1px solid var(--color-border);
  }

  .feature-card {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 12px;
    padding: var(--spacing-lg);
    transition: all 0.3s ease;
  }

  .feature-card:hover {
    border-color: var(--color-accent);
    transform: translateY(-4px);
  }

  .feature-icon {
    width: 56px;
    height: 56px;
    background: rgba(99, 102, 241, 0.1);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-accent);
    margin-bottom: var(--spacing-md);
  }

  .feature-card h3 {
    font-size: 1.25rem;
    margin-bottom: var(--spacing-xs);
  }

  .feature-card p {
    color: var(--color-text-muted);
    font-size: 0.95rem;
    margin: 0;
    line-height: 1.6;
  }

  .expertise {
    border-top: 1px solid var(--color-border);
  }

  .expertise-grid {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
  }

  .expertise-item {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 8px;
    padding: 0.75rem 1.25rem;
    transition: all 0.2s ease;
  }

  .expertise-item:hover {
    border-color: var(--color-accent);
    background: rgba(99, 102, 241, 0.1);
  }

  .expertise-label {
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--color-text);
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-lg);
  }

  .section-header .section-title {
    margin-bottom: 0;
  }

  .view-all {
    font-size: 0.95rem;
    font-weight: 500;
  }

  .cta-section {
    border-top: 1px solid var(--color-border);
  }

  .cta-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .cta-content h2 {
    font-size: 2rem;
    margin-bottom: var(--spacing-sm);
  }

  .cta-content p {
    color: var(--color-text-muted);
    font-size: 1.1rem;
    margin-bottom: var(--spacing-lg);
  }

  @media (max-width: 768px) {
    .hero-content {
      grid-template-columns: 1fr;
      text-align: center;
    }

    .hero-title {
      font-size: 2.5rem;
    }

    .hero-subtitle {
      font-size: 1.15rem;
    }

    .hero-description {
      max-width: 100%;
    }

    .hero-cta {
      justify-content: center;
    }

    .hero-image {
      order: -1;
    }

    .profile-photo {
      width: 250px;
      height: 300px;
    }

    .expertise-grid {
      justify-content: center;
    }
  }
</style>
